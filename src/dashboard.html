<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TESDA Program Impact Dashboard</title>
  <link rel="icon" type="image/png" href="../images/SRV-logo.png">
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-piechart-outlabels@1.1.0/dist/chartjs-plugin-piechart-outlabels.min.js"></script>
</head>
<body class="bg-gradient-to-br from-blue-100 via-white to-yellow-50 font-sans">
<body class="bg-gradient-to-br from-blue-100 via-white to-yellow-50" style="font-family: 'Rubik', sans-serif;">

  <div class="flex min-h-screen">

  <!-- Ito yung start ng code for Sidebar -->
  <aside class="w-64 bg-gradient-to-b from-blue-700 to-blue-500 text-white flex flex-col shadow-xl">
  <div class="flex items-center space-x-4 px-6 py-4 border-b border-blue-400 bg-blue-700">
    <img src="../images/SRV-logo.png" alt="SRV Logo" class="w-12 h-12 bg-white rounded-full border-4 border-yellow-400 mb-1 p-1">
    <span class="font-bold text-lg text-yellow-300 tracking-wide">Partner Portal</span>
  </div>

  <!-- Profile -->
  <div class="px-6 py-6 border-b border-blue-400">
    <div class="flex items-center space-x-4">
      <img src="../images/personimage.png" alt="Profile" class="w-14 h-14 rounded-full border-2 border-yellow-400 mb-0">
      <div>
        <p class="font-semibold text-yellow-200">Don Pogi</p>
        <p class="text-sm text-blue-100">TESDA Associate</p>  
      </div>
    </div>
  </div>

    <!-- Menu -->
  <nav class="flex-1 px-4 py-6 space-y-2">
    <a href="dashboard.html" class="flex items-center px-3 py-2 rounded-lg bg-yellow-300 text-blue-900 font-semibold shadow hover:bg-yellow-400 transition">
      <span class="ml-3">Dashboard</span>
    </a>
    <a href="analytics.html" class="flex items-center px-3 py-2 rounded-lg hover:bg-blue-600 hover:text-yellow-200 transition">
      <span class="ml-3">Analytics</span>
    </a>
    <a href="report.html" class="flex items-center px-3 py-2 rounded-lg hover:bg-blue-600 hover:text-yellow-200 transition">
      <span class="ml-3">Reports</span>
    </a>
  </nav>

    <!-- Footer -->
    <div class="px-4 py-4 border-t border-blue-400">
      <a href="#" class="flex items-center px-3 py-2 rounded-lg hover:bg-yellow-200 hover:text-blue-900 transition"> <span class="ml-3">Settings</span></a>
      <a href="#" class="flex items-center px-3 py-2 rounded-lg hover:bg-yellow-200 hover:text-blue-900 transition"> <span class="ml-3">Sign Out</span></a>
    </div>
  </aside>


    <!-- Main Content -->
    <div class="flex-1 flex flex-col">

    <!-- Header & Master Filters -->
    <header class="bg-gradient-to-r from-blue-700 to-yellow-400 px-8 py-6 shadow-lg flex flex-col md:flex-row md:items-center md:justify-between">
      <div class="mb-4 md:mb-0">
        <h1 class="text-3xl font-extrabold text-yellow-100 drop-shadow">Impact Dashboard</h1>
      </div>
      <div class="flex flex-col md:flex-row md:items-center gap-4">
        <select class="border-2 border-blue-300 p-2 rounded-lg focus:ring-2 focus:ring-yellow-300 min-w-[220px]">
          <option>Plumbing NC II</option>
          <option>Massage Therapy NC II</option>
          <option>Electrical Installation & Maintenance NC II</option>
        </select>
        <select class="border-2 border-blue-300 p-2 rounded-lg focus:ring-2 focus:ring-yellow-300 min-w-[180px]">
          <option>July 2025 Batch</option>
          <option>Q2 2025</option>
          <option>Custom Date Range</option>
        </select>
        <button class="p-2 bg-yellow-300 text-blue-900 rounded-full shadow hover:bg-yellow-400 transition" aria-label="Notifications">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
          </svg>
        </button>
      </div>
    </header>

      <!-- Dashboard Body -->
      <main class="p-8 flex-1 overflow-y-auto">
        <!-- AI-Generated Impact Summary (Story Box) -->
        <div class="bg-blue-50 p-6 rounded-xl shadow-lg mb-8 border-l-4 border-blue-400">
          <h2 class="text-lg font-bold text-blue-800 mb-2 flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-400 mr-2" fill="currentColor" viewBox="0 0 20 20">
              <path d="M10 2a1 1 0 01.93.629l1.518 3.682 3.682 1.518a1 1 0 010 1.858l-3.682 1.518-1.518 3.682a1 1 0 01-1.858 0l-1.518-3.682-3.682-1.518a1 1 0 010-1.858l3.682-1.518L9.07 2.629A1 1 0 0110 2z" />
            </svg>
            Impact Summary
          </h2>
          <ul class="text-blue-900 text-base list-disc pl-6">
            <li>As of August 27, 2025, 82% of consenting graduates from this cohort have become active earners on the SRV platform, completing over 250 jobs collectively.</li>
            <li>Their average monthly income saw a 48% increase between their first and third months of activity.</li>
            <li>The cohort maintains a high client satisfaction score of 4.9/5 stars.</li>
            <li>The most in-demand service is 'Circuit Breaker Installation,' particularly in the Bakakeng Norte, Baguio City area, indicating a strong residential demand for this skill.</li>
          </ul>
        </div>

        <!-- KPI Snapshot -->
        <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
          <div class="bg-white p-6 rounded-xl shadow-lg flex flex-col items-center border-2 border-yellow-200">
            <span class="text-sm text-yellow-700 font-semibold mb-1 text-center w-full">Activation Rate</span>
            <span class="text-3xl font-extrabold text-yellow-600 mb-1 text-center w-full">82%</span>
            <span class="text-xs text-yellow-500 text-center w-full">Active earners / Consenting graduates</span>
          </div>
          <div class="bg-white p-6 rounded-xl shadow-lg flex flex-col items-center border-2 border-yellow-200">
            <span class="text-sm text-yellow-700 font-semibold mb-1 text-center w-full">Average Monthly Income</span>
            <span class="text-3xl font-extrabold text-yellow-600 mb-1 text-center w-full">₱18,500</span>
            <span class="text-xs text-yellow-500 text-center w-full">Last full month</span>
          </div>
          <div class="bg-white p-6 rounded-xl shadow-lg flex flex-col items-center border-2 border-yellow-200">
            <span class="text-sm text-yellow-700 font-semibold mb-1 text-center w-full">Average Client Rating</span>
            <span class="text-3xl font-extrabold text-yellow-600 mb-1 text-center w-full">4.88 ★</span>
            <span class="text-xs text-yellow-500 text-center w-full">All completed jobs</span>
          </div>
          <div class="bg-white p-6 rounded-xl shadow-lg flex flex-col items-center border-2 border-yellow-200">
            <span class="text-sm text-yellow-700 font-semibold mb-1 text-center w-full">Total Jobs Completed</span>
            <span class="text-3xl font-extrabold text-yellow-600 mb-1 text-center w-full">312</span>
            <span class="text-xs text-yellow-500 text-center w-full">Cohort total</span>
          </div>
        </div>

        <!-- Economic Impact Analysis -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
          <!-- Income Progression Over Time -->
          <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-7 rounded-2xl shadow-xl border border-blue-200">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-green-400 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 17l6-6 4 4 8-8" />
              </svg>
              <h2 class="text-lg font-bold text-blue-800 tracking-wide">Income Progression Over Time</h2>
            </div>
            <canvas id="incomeProgressionChart"></canvas>
          </div>
          <!-- Service Demand & Profitability -->
          <div class="bg-gradient-to-br from-yellow-50 to-yellow-100 p-7 rounded-2xl shadow-xl border border-yellow-200">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-yellow-400 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 17v-2a4 4 0 014-4h4m0 0V7a4 4 0 00-8 0v4m8 0l-8 8" />
              </svg>
              <h2 class="text-lg font-bold text-yellow-700 tracking-wide">Service Demand & Profitability</h2>
            </div>
            <canvas id="serviceDemandChart"></canvas>
          </div>
        </div>

        <!-- Service Quality & Market Acceptance -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
          <!-- Client Rating Distribution -->
          <div class="bg-gradient-to-br from-yellow-50 to-yellow-100 p-7 rounded-2xl shadow-xl border border-yellow-200">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-yellow-400 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l2.036 6.29a1 1 0 00.95.69h6.631c.969 0 1.371 1.24.588 1.81l-5.37 3.905a1 1 0 00-.364 1.118l2.036 6.29c.3.921-.755 1.688-1.54 1.118l-5.37-3.905a1 1 0 00-1.176 0l-5.37 3.905c-.784.57-1.838-.197-1.54-1.118l2.036-6.29a1 1 0 00-.364-1.118L2.342 11.717c-.783-.57-.38-1.81.588-1.81h6.631a1 1 0 00.95-.69l2.036-6.29z" />
              </svg>
              <h2 class="text-lg font-bold text-yellow-700 tracking-wide">Client Rating Distribution</h2>
            </div>
            <canvas id="ratingDistributionChart"></canvas>
          </div>
          <!-- Common Client Feedback (Word Cloud/Tags) -->
          <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-2xl shadow-xl border border-blue-200 flex flex-col items-center justify-center">
            <div class="flex items-center mb-4">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7 text-blue-400 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8a2 2 0 012-2h2M15 3h-6a2 2 0 00-2 2v3a2 2 0 002 2h6a2 2 0 002-2V5a2 2 0 00-2-2z" />
              </svg>
              <h2 class="text-lg font-bold text-blue-700 tracking-wide">Common Client Feedback</h2>
            </div>
            <div class="flex flex-wrap gap-3 justify-center">
              <span class="bg-blue-50/80 text-blue-700 px-4 py-2 rounded-2xl text-base font-semibold shadow-sm border border-blue-100">Professional</span>
              <span class="bg-blue-50/80 text-blue-700 px-4 py-2 rounded-2xl text-base font-semibold shadow-sm border border-blue-100">On-time</span>
              <span class="bg-blue-50/80 text-blue-700 px-4 py-2 rounded-2xl text-base font-semibold shadow-sm border border-blue-100">Polite</span>
              <span class="bg-blue-50/80 text-blue-700 px-4 py-2 rounded-2xl text-base font-semibold shadow-sm border border-blue-100">Fast</span>
              <span class="bg-blue-50/80 text-blue-700 px-4 py-2 rounded-2xl text-base font-semibold shadow-sm border border-blue-100">Reliable</span>
              <span class="bg-blue-50/80 text-blue-700 px-4 py-2 rounded-2xl text-base font-semibold shadow-sm border border-blue-100">Clean work</span>
            </div>
          </div>
        </div>

        <!-- Geographic Demand Analysis -->
        <div class="bg-gradient-to-r from-blue-100 to-yellow-100 p-6 rounded-xl shadow-lg mb-8 border border-blue-200">
          <h2 class="text-lg font-semibold mb-4 text-blue-800">Job Hotspots</h2>
        <ul class="list-disc pl-6 text-blue-900 text-base mb-4">
          <li>Gadget and appliance repair are mostly booked in the <b>Main Business District</b> and in the <b>Bakakeng area</b></li>
          <li>Deliveries are mostly booked in the <b>Loakan area</b></li>
          <li>Plumbing and Electrical Repair services are needed in the <b>Trancoville area</b></li>
        </ul>
          <div class="w-full h-72 bg-gray-200 rounded-lg flex items-center justify-center overflow-hidden">
            <img src="../images/baguio heat map.png" alt="Baguio Heat Map" class="object-cover w-full h-full rounded-lg" />
          </div>
        </div>
      </main>
    </div>
  </div>
    <!-- Hindi na ako gumawa ng bagong files andito na lahat ng scripts -->
    <script>
      // Income Progression Over Time (Line Chart)
      const incomeProgressionCtx = document.getElementById('incomeProgressionChart').getContext('2d');
      new Chart(incomeProgressionCtx, {
        type: 'line',
        data: {
          labels: ['Month 1', 'Month 2', 'Month 3', 'Month 4', 'Month 5', 'Month 6'],
          datasets: [{
            label: 'Average Income',
            data: [12500, 14500, 18500, 19500, 21000, 22500],
            borderColor: '#10B981',
            backgroundColor: 'rgba(16,185,129,0.1)',
            fill: true,
            tension: 0.3,
            pointBackgroundColor: '#10B981',
            pointBorderColor: '#10B981'
          }]
        },
        options: {
          plugins: {
            legend: {
              display: false
            }
          },
          scales: {
            x: {
              grid: { display: false },
              ticks: { color: '#111827', font: { size: 14 } }
            },
            y: {
              grid: { color: '#e5e7eb' },
              ticks: { color: '#111827', font: { size: 14 } },
              beginAtZero: true
            }
          }
        }
      });

      // Service Demand & Profitability (Horizontal Bar Chart)
      const serviceDemandCtx = document.getElementById('serviceDemandChart').getContext('2d');
      new Chart(serviceDemandCtx, {
        type: 'bar',
        data: {
          labels: [
            'Circuit Breaker Installation',
            'Wiring Repair',
            'Lighting Installation',
            'Outlet Replacement',
            'Panel Upgrade'
          ],
          datasets: [{
            label: 'Bookings',
            data: [120, 90, 75, 60, 45],
            backgroundColor: '#3B82F6',
            borderRadius: 6
          }, {
            label: 'Avg. Job Price (₱)',
            data: [1800, 1500, 1200, 1000, 2200],
            backgroundColor: '#F59E0B',
            borderRadius: 6
          }]
        },
        options: {
          indexAxis: 'y',
          scales: {
            x: {
              beginAtZero: true,
              grid: { color: '#e5e7eb' },
              ticks: { color: '#111827', font: { size: 14 } }
            },
            y: {
              grid: { color: '#e5e7eb' },
              ticks: { color: '#111827', font: { size: 14 } }
            }
          },
          plugins: {
            legend: { display: true, position: 'bottom' }
          }
        }
      });

      // Client Rating Distribution (Donut Chart)
      const ratingDistributionCtx = document.getElementById('ratingDistributionChart').getContext('2d');
      new Chart(ratingDistributionCtx, {
        type: 'doughnut',
        data: {
          labels: ['5 Stars', '4 Stars', '3 Stars', '2 Stars', '1 Star'],
          datasets: [{
            data: [78, 15, 5, 1, 1],
            backgroundColor: [
              '#10B981',
              '#F59E0B',
              '#3B82F6',
              '#6366F1',
              '#EF4444'
            ],
            borderWidth: 2,
            borderColor: '#fff'
          }]
        },
        options: {
          plugins: {
            legend: { display: true, position: 'bottom' }
          },
          cutout: '70%'
        }
      });
    </script>
  </body>
</html>
